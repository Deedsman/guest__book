(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(12),r=n.n(a),i=(n(32),n(33),n(6)),l=n(5),o=n(7),d=n(1),u=function(e){var t=e.name,n=e.message;return Object(d.jsx)("div",{className:"row messageBlock",children:Object(d.jsx)("div",{className:"col s12",children:Object(d.jsx)("div",{className:"container-user",children:Object(d.jsxs)("div",{className:"row valign-wrapper",children:[Object(d.jsx)("div",{className:"col s2 nameUser",children:t}),Object(d.jsx)("div",{className:"col s8 messageUser",children:Object(d.jsx)("div",{className:"messageText",children:n})})]})})})})},j=s.a.memo(u),b=n(3),m=n(14),h="ADD_USER",p="LOAD_USERS",O={users:[]},v=function(){return function(e){try{m.get("/api",{headers:{"Content-Type":"application/json"}}).then((function(t){var n=t.data;n.sort((function(e,t){return e.date<t.date?1:-1})),e({type:p,users:n})})).then((function(){console.log("list guests loaded")}))}catch(t){console.log(t)}}},x=n(27),f=function(){var e,t,n,s,a,r=Object(x.a)(),u=r.register,b=r.handleSubmit,h=r.formState.errors,p=Object(o.c)((function(e){return e.user.users})),O=Object(c.useState)(""),v=Object(l.a)(O,2),f=v[0],g=v[1],y=Object(c.useState)(""),N=Object(l.a)(y,2),w=N[0],S=N[1],_=Object(o.b)(),A=p.map((function(e,t){return Object(d.jsx)(j,{id:t,name:e.name,message:e.text,date:e.date},e._id)})),D=function(e){var t,n={_id:Math.random(),name:e.name,text:e.text};_((t={type:"ADD_USER",users:n},function(e){e(t),m.post("/api/guest",Object(i.a)({},t.users),{headers:{"Content-Type":"application/json"}}).then((function(){console.log("guest added")})).catch((function(e){console.log(e)}))})),S("")};return Object(d.jsxs)("div",{className:"row",children:[A,Object(d.jsx)("form",{className:"col s12 form",onSubmit:b(D),onKeyPress:function(e){"Enter"===e.code&&!0===e.ctrlKey&&b(D(e))},children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"input-name input-field col s2",children:[Object(d.jsx)("input",Object(i.a)(Object(i.a)({},u("name",{required:!0,maxLength:18,pattern:/\w/})),{},{onChange:function(e){g(e.target.value)},id:"first_name2",type:"text",className:"validate",value:f,onKeyPress:function(e){"Enter"===e.code&&e.preventDefault()}})),"required"===(null===h||void 0===h||null===(e=h.name)||void 0===e?void 0:e.type)&&Object(d.jsx)("p",{children:"This field is required"}),"maxLength"===(null===h||void 0===h||null===(t=h.name)||void 0===t?void 0:t.type)&&Object(d.jsx)("p",{children:"First name cannot exceed 15 characters"}),"pattern"===(null===h||void 0===h||null===(n=h.name)||void 0===n?void 0:n.type)&&Object(d.jsx)("p",{children:"Alphabetical characters only"}),Object(d.jsx)("label",{className:"label-name active",htmlFor:"first_name2",children:"Name"})]}),Object(d.jsxs)("div",{className:"message  input-field col s6",children:[Object(d.jsx)("textarea",Object(i.a)(Object(i.a)({},u("text",{required:!0,pattern:/\w/})),{},{id:"icon_prefix2",className:"materialize-textarea",onChange:function(e){S(e.target.value)},required:!0,rows:"5",value:w})),"required"===(null===h||void 0===h||null===(s=h.text)||void 0===s?void 0:s.type)&&Object(d.jsx)("p",{children:"This field is required"}),"pattern"===(null===h||void 0===h||null===(a=h.text)||void 0===a?void 0:a.type)&&Object(d.jsx)("p",{children:"Alphabetical characters only"}),Object(d.jsx)("label",{htmlFor:"icon_prefix2",children:"Message"})]}),Object(d.jsx)("button",{className:"input-field btn waves-effect waves-light",type:"submit",name:"action",children:"Add message"})]})})]})};var g=function(){var e=Object(o.b)();return Object(c.useEffect)((function(){e(v())}),[e]),Object(d.jsxs)("div",{className:"App container z-depth-1",children:[Object(d.jsx)("h4",{className:"App-header",children:"Hello Guests"}),Object(d.jsx)(f,{})]})},y=n(11),N=n(25),w=n(26),S=Object(y.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case h:var n=t.users;return Object(i.a)(Object(i.a)({},e),{},{users:[n].concat(Object(b.a)(e.users))});default:return e}}}),_=Object(y.createStore)(S,Object(N.composeWithDevTools)(Object(y.applyMiddleware)(w.a)));window.store=_;var A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(o.a,{store:_,children:Object(d.jsx)(g,{})})}),document.getElementById("root")),A()}},[[61,1,2]]]);
//# sourceMappingURL=main.7a36673c.chunk.js.map