{"version":3,"sources":["Message.jsx","reducers/users-reducer.js","MainTable.jsx","App.jsx","reducers/root-reducer.js","reportWebVitals.js","index.js"],"names":["Message","name","message","date","className","React","memo","ADD_USER","LOAD_USERS","initialState","users","getGuest","dispatch","axios","headers","then","res","data","type","console","log","error","MainTable","props","useForm","register","handleSubmit","errors","formState","useSelector","state","user","useState","setName","text","setText","useDispatch","userList","map","id","_id","addMessage","e","guest","Date","currentDate","getFullYear","getMonth","getDate","addGuest","catch","onSubmit","onKeyPress","code","ctrlKey","required","maxLength","pattern","onChange","target","value","preventDefault","htmlFor","rows","App","useEffect","rootReducer","combineReducers","action","infoGuest","store","createStore","composeWithDevTools","applyMiddleware","thunk","window","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e442ab4a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Message = ({ name, message, date }) => {\r\n  return (\r\n    <div className='messageBlock'>\r\n      <div className='col s12'>\r\n        <div className='card-panel grey lighten-5 z-depth-1'>\r\n          <div className='row valign-wrapper'>\r\n            <div className='col s2 nameUser'>{name} :</div>\r\n            <div className='col s10'>\r\n              <div className='black-text messageUser'>{message}</div>\r\n            </div>\r\n            <div className='col s2 dateUser'>{date}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(Message);\r\n","import * as axios from \"axios\";\r\n\r\nconst ADD_USER = \"ADD_USER\";\r\nconst LOAD_USERS = \"LOAD_USERS\";\r\n\r\nconst initialState = {\r\n  users: [],\r\n};\r\n\r\nexport const userReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOAD_USERS:\r\n      return { ...state, users: action.users };\r\n    case ADD_USER:\r\n      let infoGuest = action.users;\r\n\r\n      return { ...state, users: [infoGuest, ...state.users] };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setMessage = (user) => ({ type: ADD_USER, user });\r\nexport const setUsers = (users) => ({ type: LOAD_USERS, users });\r\n\r\nexport const fetchUsers = (guest) => {\r\n  return function (dispatch) {\r\n    dispatch(guest);\r\n\r\n    axios\r\n      .post(\r\n        \"/api/guest\",\r\n        { ...guest.users },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      )\r\n      .then(() => {\r\n        console.log(\"guest added\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n};\r\n\r\nexport const getGuest = () => {\r\n  return function (dispatch) {\r\n    try {\r\n      axios\r\n        .get(\"/api\", {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        })\r\n        .then((res) => {\r\n          const data = res.data;\r\n          dispatch(setUsers(data));\r\n        })\r\n        .then(() => {\r\n          console.log(\"list guests loaded\");\r\n        });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Message from \"./Message\";\r\nimport { fetchUsers } from \"./reducers/users-reducer\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nconst MainTable = (props) => {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  const users = useSelector((state) => state.user.users);\r\n  const [name, setName] = useState(\"\");\r\n  const [text, setText] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n\r\n  const addText = (e) => {\r\n    setText(e.target.value);\r\n  };\r\n\r\n  const userList = users.map((user, id) => {\r\n    return (\r\n      <Message\r\n        key={user._id}\r\n        name={user.name}\r\n        message={user.text}\r\n        date={user.date}\r\n      />\r\n    );\r\n  });\r\n\r\n  const addName = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n  const keyPress = (e) => {\r\n    if (e.code === \"Enter\" && e.ctrlKey === true) {\r\n      handleSubmit(addMessage(e));\r\n    }\r\n  };\r\n  const addMessage = (e) => {\r\n    debugger;\r\n    //e.preventDefault();\r\n    let date = new Date();\r\n    let currentDate =\r\n      date.getFullYear() + \"/\" + date.getMonth() + \"/\" + date.getDate();\r\n    const addGuest = {\r\n      name: e.name,\r\n      text: e.text,\r\n      date: currentDate,\r\n    };\r\n    dispatch(fetchUsers({ type: \"ADD_USER\", users: addGuest }));\r\n    setText(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className='row'>\r\n      {userList}\r\n\r\n      <form\r\n        className='col s12'\r\n        onSubmit={handleSubmit(addMessage)}\r\n        onKeyPress={keyPress}\r\n      >\r\n        <div className='row'>\r\n          <div className='input-field col s2'>\r\n            <input\r\n              {...register(\"name\", {\r\n                required: true,\r\n                maxLength: 20,\r\n                pattern: /\\w/,\r\n              })}\r\n              onChange={addName}\r\n              id='first_name2'\r\n              type='text'\r\n              className='validate'\r\n              value={name}\r\n              onKeyPress={(e) => {\r\n                if (e.code === \"Enter\") {\r\n                  e.preventDefault();\r\n                }\r\n              }}\r\n            />\r\n            {errors?.name?.type === \"required\" && <p>This field is required</p>}\r\n            {errors?.name?.type === \"maxLength\" && (\r\n              <p>First name cannot exceed 20 characters</p>\r\n            )}\r\n            {errors?.name?.type === \"pattern\" && (\r\n              <p>Alphabetical characters only</p>\r\n            )}\r\n            <label className='active' htmlFor='first_name2'>\r\n              Enter Name\r\n            </label>\r\n          </div>\r\n          <div className='input-field col s8'>\r\n            <textarea\r\n              {...register(\"text\", {\r\n                required: true,\r\n                pattern: /^[a-zA-Z0-9]+$/,\r\n              })}\r\n              id='icon_prefix2'\r\n              className='materialize-textarea'\r\n              onChange={addText}\r\n              required\r\n              rows='5'\r\n              value={text}\r\n            ></textarea>\r\n            {errors?.text?.type === \"required\" && <p>This field is required</p>}\r\n            {errors?.text?.type === \"pattern\" && (\r\n              <p>Alphabetical characters only</p>\r\n            )}\r\n            <label htmlFor='icon_prefix2'>Message</label>\r\n          </div>\r\n          <div className='input-field col s2'>\r\n            <button\r\n              className='btn waves-effect waves-light'\r\n              type='submit'\r\n              name='action'\r\n            >\r\n              Add message\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\nexport default MainTable;\r\n","import React, { useEffect } from \"react\";\nimport \"materialize-css\";\nimport MainTable from \"./MainTable\";\nimport { useDispatch } from \"react-redux\";\nimport { getGuest } from \"./reducers/users-reducer\";\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getGuest());\n  }, [dispatch]);\n\n  return (\n    <div className='App'>\n      <h4 className='App-header'>Hello Guests</h4>\n      <MainTable />\n    </div>\n  );\n}\n\nexport default App;\n","import {applyMiddleware, combineReducers, createStore} from 'redux'\r\nimport {composeWithDevTools} from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\nimport { userReducer }from \"./users-reducer\";\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n  user : userReducer\r\n})\r\n\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))\r\n\r\nwindow.store = store;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport {store} from \"./reducers/root-reducer\";\nimport { Provider } from \"react-redux\";\nimport reportWebVitals from \"./reportWebVitals\";\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n\nreportWebVitals();\n"],"sourceRoot":""}