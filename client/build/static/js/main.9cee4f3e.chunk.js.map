{"version":3,"sources":["Message.jsx","reducers/users-reducer.js","MainTable.jsx","App.jsx","reducers/root-reducer.js","reportWebVitals.js","index.js"],"names":["Message","name","message","className","React","memo","ADD_USER","LOAD_USERS","initialState","users","getGuest","dispatch","axios","headers","then","res","data","sort","a","b","date","type","console","log","error","MainTable","useForm","register","handleSubmit","errors","formState","useSelector","state","user","useState","setName","text","setText","useDispatch","userList","map","id","_id","addMessage","e","guest","addGuest","Math","random","catch","onSubmit","onKeyPress","code","ctrlKey","required","maxLength","pattern","onChange","target","value","preventDefault","htmlFor","rows","App","useEffect","rootReducer","combineReducers","action","infoGuest","store","createStore","composeWithDevTools","applyMiddleware","thunk","window","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9cee4f3e.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Message = ({ name, message }) => {\r\n  return (\r\n    <div className='row messageBlock'>\r\n      <div className='col s12'>\r\n        <div className='container-user'>\r\n          <div className='row valign-wrapper'>\r\n            <div className='col s2 nameUser'>{name} :</div>\r\n            <div className='col s8 messageUser'>\r\n              <div className='messageText'>{message}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(Message);\r\n","import * as axios from \"axios\";\r\n\r\nconst ADD_USER = \"ADD_USER\";\r\nconst LOAD_USERS = \"LOAD_USERS\";\r\n\r\nconst initialState = {\r\n  users: [],\r\n};\r\n\r\nexport const userReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOAD_USERS:\r\n      return { ...state, users: action.users };\r\n    case ADD_USER:\r\n      let infoGuest = action.users;\r\n\r\n      return { ...state, users: [infoGuest, ...state.users] };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setMessage = (user) => ({ type: ADD_USER, user });\r\nexport const setUsers = (users) => ({ type: LOAD_USERS, users });\r\n\r\nexport const fetchUsers = (guest) => {\r\n  return function (dispatch) {\r\n    dispatch(guest);\r\n\r\n    axios\r\n      .post(\r\n        \"/api/guest\",\r\n        { ...guest.users },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      )\r\n      .then(() => {\r\n        console.log(\"guest added\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n};\r\n\r\nexport const getGuest = () => {\r\n  return function (dispatch) {\r\n    try {\r\n      axios\r\n        .get(\"/api\", {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        })\r\n        .then((res) => {\r\n          const data = res.data;\r\n          data.sort((a, b) => a.date < b.date ? 1 : -1);\r\n          dispatch(setUsers(data));\r\n        })\r\n        .then(() => {\r\n          console.log(\"list guests loaded\");\r\n        });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Message from \"./Message\";\r\nimport { fetchUsers } from \"./reducers/users-reducer\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nconst MainTable = () => {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  const users = useSelector((state) => state.user.users);\r\n  const [name, setName] = useState(\"\");\r\n  const [text, setText] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n\r\n  const addText = (e) => {\r\n    setText(e.target.value);\r\n  };\r\n\r\n  const userList = users.map((user, id) => {\r\n    return (\r\n      <Message\r\n        key={user._id}\r\n        id={id}\r\n        name={user.name}\r\n        message={user.text}\r\n        date={user.date}\r\n      />\r\n    );\r\n  });\r\n\r\n  const addName = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n  const keyPress = (e) => {\r\n    if (e.code === \"Enter\" && e.ctrlKey === true) {\r\n      handleSubmit(addMessage(e));\r\n    }\r\n  };\r\n  const addMessage = (e) => {\r\n    const addGuest = {\r\n      _id: Math.random(),\r\n      name: e.name,\r\n      text: e.text,\r\n    };\r\n    dispatch(fetchUsers({ type: \"ADD_USER\", users: addGuest }));\r\n    setText(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className='row'>\r\n      {userList}\r\n\r\n      <form\r\n        className='col s12'\r\n        onSubmit={handleSubmit(addMessage)}\r\n        onKeyPress={keyPress}\r\n      >\r\n        <div className='row'>\r\n          <div className='input-name input-field col s2'>\r\n            <input\r\n              {...register(\"name\", {\r\n                required: true,\r\n                maxLength: 15,\r\n                pattern: /\\w/,\r\n              })}\r\n              onChange={addName}\r\n              id='first_name2'\r\n              type='text'\r\n              className='validate'\r\n              value={name}\r\n              onKeyPress={(e) => {\r\n                if (e.code === \"Enter\") {\r\n                  e.preventDefault();\r\n                }\r\n              }}\r\n            />\r\n            {errors?.name?.type === \"required\" && <p>This field is required</p>}\r\n            {errors?.name?.type === \"maxLength\" && (\r\n              <p>First name cannot exceed 15 characters</p>\r\n            )}\r\n            {errors?.name?.type === \"pattern\" && (\r\n              <p>Alphabetical characters only</p>\r\n            )}\r\n            <label className='label-name active' htmlFor='first_name2'>\r\n              Name\r\n            </label>\r\n          </div>\r\n          <div className='message  input-field col s6'>\r\n            <textarea\r\n              {...register(\"text\", {\r\n                required: true,\r\n                pattern: /\\w/,\r\n              })}\r\n              id='icon_prefix2'\r\n              className='materialize-textarea'\r\n              onChange={addText}\r\n              required\r\n              rows='5'\r\n              value={text}\r\n            ></textarea>\r\n            {errors?.text?.type === \"required\" && <p>This field is required</p>}\r\n            {errors?.text?.type === \"pattern\" && (\r\n              <p>Alphabetical characters only</p>\r\n            )}\r\n            <label htmlFor='icon_prefix2'>Message</label>\r\n          </div>\r\n\r\n          <button\r\n            className='input-field btn waves-effect waves-light'\r\n            type='submit'\r\n            name='action'\r\n          >\r\n            Add message\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainTable;\r\n","import React, { useEffect } from \"react\";\nimport \"materialize-css\";\nimport MainTable from \"./MainTable\";\nimport { useDispatch } from \"react-redux\";\nimport { getGuest } from \"./reducers/users-reducer\";\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getGuest());\n  }, [dispatch]);\n\n  return (\n    <div className='App container z-depth-1'>\n      <h4 className='App-header'>Hello Guests</h4>\n      <MainTable />\n    </div>\n  );\n}\n\nexport default App;\n","import {applyMiddleware, combineReducers, createStore} from 'redux'\r\nimport {composeWithDevTools} from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\nimport { userReducer }from \"./users-reducer\";\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n  user : userReducer\r\n})\r\n\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))\r\n\r\nwindow.store = store;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport {store} from \"./reducers/root-reducer\";\nimport { Provider } from \"react-redux\";\nimport reportWebVitals from \"./reportWebVitals\";\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n\nreportWebVitals();\n"],"sourceRoot":""}